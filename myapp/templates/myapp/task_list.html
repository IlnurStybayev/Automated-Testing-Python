<!-- myapp/templates/myapp/task_list.html -->
{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Task List</title>
    <script src="{% static 'js/task-actions.js' %}"></script>
</head>
<body>
    <h1>Task List</h1>
    <!-- Добавляем форму для создания новых задач -->
    <form id="new-task-form" method="post" action="/add-task">
        <input type="text" id="new-task-title" name="title" placeholder="Введите название задачи" required>
        <button type="submit" id="add-task-button">Добавить задачу</button>
    </form>
    <ul id="task-list">
        <!-- Итерация по задачам -->
        {% for task in tasks %}
            <li id="task-{{ task.id }}" class="task-item {% if task.completed %}completed{% else %}pending{% endif %}">
                <span class="task-title">{{ task.title }}</span>
                <!-- Кнопка для отметки задачи как завершенной -->
                {% if not task.completed %}
                    <button type="button" class="complete-task-button" data-task-id="{{ task.id }}">Завершить</button>
                {% endif %}
                <!-- Кнопка для удаления задачи -->
                <button type="button" class="delete-task-button" data-task-id="{{ task.id }}">Удалить</button>
            </li>
        {% endfor %}
    </ul>
    <!-- Подключаем JavaScript для обработки событий кнопок -->
    <script src="{% static 'js/task-actions.js' %}"></script>

</body>
</html>
